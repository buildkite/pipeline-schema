# Test pipeline with secrets at both pipeline and step level
# Testing both array format and object/map format

# Pipeline-level secrets (array format)
secrets:
  - GLOBAL_API_TOKEN
  - DATABASE_URL

steps:
  - command: echo "Using global secrets"
    label: ":rocket: Step with global secrets only"

  # Test array format at step level
  - command: echo "Using step-specific secrets (array format)"
    label: ":lock: Array format step secrets"
    secrets:
      - API_ACCESS_TOKEN
      - DEPLOYMENT_KEY

  # Test object format at step level
  - command: echo "Using step-specific secrets (object format)"
    label: ":key: Object format step secrets"
    secrets:
      MY_APP_ACCESS_TOKEN: API_ACCESS_TOKEN
      CUSTOM_DEPLOYMENT_KEY: DEPLOYMENT_KEY
